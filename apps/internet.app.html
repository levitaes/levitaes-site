<!DOCTYPE html>
<html lang="en">
    <head>
        <title>internet</title>
        <link href="../extensions/bootstrap.css" rel="stylesheet" >
        <meta charset="UTF-8">
        <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
        <style>
            a {
            color: black;
            text-decoration: none; /* no underline */
            }
            a:hover {color: black}
            h1 {
                -webkit-text-stroke: 2px black; /* width and color */
                font-size: 50px
            }
            ::-webkit-scrollbar {
                display: none;
            }
            .content {
                scrollbar-width: 0;
            }
        </style>
    </head>
    <body class="content bg-light">
    <div class="text-center bg-primary px-1 border-bottom border-2 border-dark overflow-hidden">
        <div class="row">
            <div class="col text-start">
            bookmarks:
            </div>
            <div class="col">
                <a target="_parent" href="https://www.showboxmovies.net/movie/the-princess-bride-17632">
                    <div class="border-start border-dark text-center">showboxmovies.net</div>
                </a>
            </div>
            <div class="col">
                <a target="_parent" href="https://www.1shows.nl/">
                    <div class="border-start border-dark text-center">1shows.nl</div>
                </a>
            </div>
            <div class="col">
                <a target="_parent" href="https://spotdown.org/">
                    <div class="border-start border-dark text-center">Spotdown.org</div>
                </a>
            </div>
        </div>

    </div>
    <div class="container">
        <div class="row p-5">
            <h1 class="text-primary text-center">Gogl</h1>
            <p class="text-center">My personal collection of usefull sites and curiosities</p>
            <input id="search" onkeyup="refresh()" class="bg-primary rounded-0 rounded-top form-control" type="text" placeholder="Search" aria-label="Search">

            <ul id="list" class="list-group list-group-flush border border-dark border-2 rounded-0 rounded-bottom mt-1 p-0 bg-primary" style="min-height: 5px;">
                <li class="list-group-item list-group-item-action bg-secondary">
                    <a target="_parent" href="https://letterboxd.com">
                        <div class="d-flex w-100 justify-content-between">
                            <h5 class="mb-1">Letterboxd</h5>
                        </div>
                        <p class="mb-1">Track films/movies you watched. Save those you want to see. Tell your friends what is good.</p>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <script>
        function refresh() {
            let input, filter, ul, li, a, i, txtValue;
            input = document.getElementById("search");
            filter = input.value.toUpperCase();
            ul = document.getElementById("list");
            li = ul.getElementsByTagName("li");
            for (i = 0; i < li.length; i++) {
                a = li[i].getElementsByTagName("a")[0];
                txtValue = a.textContent || a.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
        }
    </script>
    <script>
        fetch('../csv/internet-entries.csv')
            .then(response => response.text())
            .then(csvText => {
                // Parse CSV with Papa Parse
                const result = Papa.parse(csvText, {
                header: true, // Use first row as headers (returns array of objects)
                dynamicTyping: true, // Convert values to numbers/booleans automatically
                skipEmptyLines: true // Ignore empty rows
                });
            
                if (result.errors.length > 0) {
                console.error('Parsing errors:', result.errors);
                } else {
                console.log('Parsed Data:', result.data);
                // Output: [{ name: "Alice", age: 28, city: "New York" }, ...]
                }

                const list = document.getElementById("list");
                list.innerHTML = "";

                result.data.forEach(entry => {
                    const li = document.createElement("li");
                    li.className = "list-group-item list-group-item-action bg-secondary";

                    li.innerHTML = `
                        <a target="_parent" href="${entry.Link}">
                            <div class="d-flex w-100 justify-content-between">
                                <h5 class="mb-1">${entry.Name}</h5>
                            </div>
                            <p class="mb-1">${entry.Description}</p>
                        </a>
                    `;

                    list.appendChild(li);
                });
            });
    </script>
</body>
